(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[187],{1327:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return el}});var s=a(7437);let i="daily",o="st_game_state_v1_".concat(i),l="st_game_ui_state_".concat(i);var n=a(2097),r=a(1015),_={ui:{isDarkModeEnabled:!1,modals:{hintHelp:{isShow:!1,header:"",text:""},fullScreen:{isShow:!1,isVisible:!1,isTransitionInProgress:!1,modalStates:{isHelpOpened:!1,isSettingsOpened:!1,isGameDoneOpened:!1}}}},gameState:{puzzleId:null,matrix:null,lettersPath:[],isPathDrag:!1,hintsScore:0,pathDragLetterNum:0,wordsFound:[],words:{spangram:null,theme:[]},gameMessage:{message:"",type:null,isAnimated:!1,timeoutId:null},refElements:{hintButton:null,cells:[[]]},hintWordOpened:null,hintCost:3,minPathLength:4,maxPathLength:16,header:"",isGameDone:!1}};a(9539);let m=e=>e[Math.floor(Math.random()*e.length)],h=(e,t,a,s,i)=>void 0!==e[i][s]&&(t+1===s&&a===i?"r":t-1===s&&a===i?"l":t===s&&a-1===i?"t":t===s&&a+1===i?"b":t+1===s&&a-1===i?"rt":t+1===s&&a+1===i?"rb":t-1===s&&a-1===i?"lt":t-1===s&&a+1===i&&"lb"),d=(e,t)=>{if(e.length!==t.length)return!1;let a=!0;for(let s=0;s<e.length;s++)if(e[s].posX!==t[s].posX||e[s].posY!==t[s].posY){a=!1;break}return a},c=(e,t)=>{let a=e;for(let e=0;e<t.length;e++){if(!a[t[e]])return!1;if(e===t.length-1)return!0===a[t[e]].isLast;a=a[t[e]]}};class p{init(){localStorage.getItem(l)&&(this.store.ui.isDarkModeEnabled=JSON.parse(localStorage.getItem(l)).isDarkModeEnabled)}setFullScreenModalsStateOpen(e){this.store.ui.modals.fullScreen.isModalTransitionInProgress||(this.store.ui.modals.fullScreen.modalStates["is"+e+"Opened"]=!0,this.store.ui.modals.fullScreen.isVisible=!0,this.store.ui.modals.fullScreen.isShow=!0,this.store.ui.modals.fullScreen.isModalTransitionInProgress=!0,setTimeout((0,r.aD)(()=>{this.store.ui.modals.fullScreen.isModalTransitionInProgress=!1}),300))}setFullScreenModalsStateClose(){this.store.ui.modals.fullScreen.isTransitionInProgress||(this.store.ui.modals.fullScreen.isModalTransitionInProgress=!0,this.store.ui.modals.fullScreen.isShow=!1,setTimeout((0,r.aD)(()=>{this.store.ui.modals.fullScreen.isModalTransitionInProgress=!1,this.store.ui.modals.fullScreen.isVisible=!1,this.store.ui.modals.fullScreen.modalStates.isHelpOpened=!1,this.store.ui.modals.fullScreen.modalStates.isSettingsOpened=!1,this.store.ui.modals.fullScreen.modalStates.isGameDoneOpened=!1}),300))}setGameProps(e){this.store.gameState.refElements.cells=Array(e.matrix.length).fill(Array(e.matrix[0].length).fill(null)),e.matrix.forEach(e=>{e.forEach(e=>{e.links=[],e.animation={isAnimatedPulse:!1,isAnimatedPulseBig:!1,timeoutId:null,hintAnimation:{isAnimated:!1,top:0,left:0,width:0,opacity:0}},e.isEnabled=!1,e.special={type:null,links:[]}})}),this.store.gameState.puzzleId=e.puzzleId,this.store.gameState.matrix=e.matrix,this.store.gameState.words=e.words,this.store.gameState.hintCost=e.hintCost,this.store.gameState.maxPathLength=e.maxPathLength,this.store.gameState.minPathLength=e.minPathLength,this.store.gameState.header=e.header,this.restoreGameState()}setDictionary(e){this.dictionary=e}resetMatrixCells(e){for(let t of e)this.store.gameState.matrix[t.posY][t.posX].isEnabled=!1,this.store.gameState.matrix[t.posY][t.posX].links=[]}handleCellEnter(e,t,a){if(e.stopPropagation(),this.store.gameState.isGameDone||!this.store.gameState.isPathDrag||0===this.store.gameState.lettersPath.length)return;this.store.gameState.pathDragLetterNum++;let s=this.store.gameState.lettersPath.findIndex(e=>e.posX===t&&e.posY===a),i=this.store.gameState.lettersPath[this.store.gameState.lettersPath.length-1],o=h(this.store.gameState.matrix,i.posX,i.posY,t,a);if(o){if(-1===s){if(this.store.gameState.lettersPath.length>=this.store.gameState.maxPathLength){this.store.gameState.isPathDrag=!1,this.resetMatrixCells(this.store.gameState.lettersPath),this.setGameMessage("Too long","deny");return}this.assignCellsAnimations([{posX:t,posY:a}]),this.store.gameState.matrix[a][t].isEnabled=!0,this.store.gameState.matrix[i.posY][i.posX].links.push(o),this.store.gameState.lettersPath.push({posX:t,posY:a})}else{this.assignCellsAnimations([{posX:this.store.gameState.lettersPath[s].posX,posY:this.store.gameState.lettersPath[s].posY}]);let e=this.store.gameState.lettersPath.splice(s+1);this.store.gameState.matrix[this.store.gameState.lettersPath[s].posY][this.store.gameState.lettersPath[s].posX].links=[],this.resetMatrixCells(e)}}}handleCellClick(e,t,a){e.stopPropagation()}handleCellPointerDown(e,t,a){if(e.target.releasePointerCapture(e.pointerId),e.stopPropagation(),!this.store.gameState.isGameDone){if(this.resetGameMessage(),this.store.gameState.isPathDrag=!0,this.store.gameState.pathDragLetterNum++,0===this.store.gameState.lettersPath.length)this.assignCellsAnimations([{posX:t,posY:a}]),this.store.gameState.lettersPath=[{posX:t,posY:a}],this.store.gameState.matrix[a][t].isEnabled=!0;else{let e=this.store.gameState.lettersPath.findIndex(e=>e.posX===t&&e.posY===a),s=this.store.gameState.lettersPath[this.store.gameState.lettersPath.length-1],i=h(this.store.gameState.matrix,s.posX,s.posY,t,a);if(-1===e){if(i){if(this.store.gameState.lettersPath.length>=this.store.gameState.maxPathLength){this.store.gameState.isPathDrag=!1,this.resetMatrixCells(this.store.gameState.lettersPath),this.setGameMessage("Too long","deny");return}this.assignCellsAnimations([{posX:t,posY:a}]),this.store.gameState.matrix[a][t].isEnabled=!0,this.store.gameState.matrix[s.posY][s.posX].links.push(i),this.store.gameState.lettersPath.push({posX:t,posY:a})}else this.assignCellsAnimations([{posX:t,posY:a}]),this.store.gameState.matrix[a][t].isEnabled=!0,this.resetMatrixCells(this.store.gameState.lettersPath),this.store.gameState.lettersPath=[{posX:t,posY:a}]}else if(1===this.store.gameState.lettersPath.length)this.store.gameState.matrix[a][t].isEnabled=!1,this.store.gameState.lettersPath=[];else if(e===this.store.gameState.lettersPath.length-1)this.store.gameState.isPathDrag=!1,this.store.gameState.lettersPath.length<this.store.gameState.minPathLength?(this.store.gameState.isPathDrag=!1,this.resetMatrixCells(this.store.gameState.lettersPath),this.setGameMessage("Too short","deny")):this.store.gameState.lettersPath.length>this.store.gameState.maxPathLength?(this.store.gameState.isPathDrag=!1,this.resetMatrixCells(this.store.gameState.lettersPath),this.setGameMessage("Too long","deny")):this.tryLetterPathWord();else{this.assignCellsAnimations([{posX:t,posY:a}]);let s=this.store.gameState.lettersPath.splice(e+1);this.store.gameState.matrix[a][t].links=[],this.resetMatrixCells(s)}}}}tryLetterPathWord(){let e=this.store.gameState.lettersPath.map(e=>this.store.gameState.matrix[e.posY][e.posX].letter).join("").toLowerCase();if(this.store.gameState.wordsFound.find(t=>t.word===e))this.store.gameState.isPathDrag=!1,this.resetMatrixCells(this.store.gameState.lettersPath),this.setGameMessage("Word already found","deny");else if(d(this.store.gameState.lettersPath,this.store.gameState.words.spangram)){for(let e of this.store.gameState.lettersPath)this.store.gameState.matrix[e.posY][e.posX].special.type="yellow",this.store.gameState.matrix[e.posY][e.posX].special.links=this.store.gameState.matrix[e.posY][e.posX].links,this.store.gameState.matrix[e.posY][e.posX].links=[];this.assignCellsAnimations(this.store.gameState.lettersPath,"pulse_big",!0),this.store.gameState.wordsFound.push({word:e,type:"special"}),this.resetLettersPath(),this.setGameMessage("SPANGRAM!","spangram"),this.saveGameState(),this.checkGameDone()}else{let t=!1;for(let a of this.store.gameState.words.theme)if(d(this.store.gameState.lettersPath,a)){for(let e of(t=!0,this.store.gameState.lettersPath))this.store.gameState.matrix[e.posY][e.posX].special.type="blue",this.store.gameState.matrix[e.posY][e.posX].special.links=this.store.gameState.matrix[e.posY][e.posX].links,this.store.gameState.matrix[e.posY][e.posX].links=[];this.assignCellsAnimations(this.store.gameState.lettersPath,"pulse_big",!0),this.store.gameState.wordsFound.push({word:e,type:"special"}),this.resetLettersPath(),this.setGameMessage(e.toUpperCase(),"theme"),e===this.store.gameState.hintWordOpened&&(this.store.gameState.hintWordOpened=null),this.saveGameState(),this.checkGameDone();break}t||(c(this.dictionary,e)?(this.store.gameState.hintsScore++,this.store.gameState.wordsFound.push({word:e,type:"other"}),this.saveGameState(),this.assignCellsHintAnimation(this.store.gameState.lettersPath),this.resetLettersPath(),this.setGameMessage(e.toUpperCase(),"other")):(this.store.gameState.isPathDrag=!1,this.resetMatrixCells(this.store.gameState.lettersPath),this.setGameMessage("Word not found","deny")))}}assignCellsAnimations(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pulse",a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s="pulse"===t?"isAnimatedPulse":"isAnimatedPulseBig";for(let t of e){clearTimeout(this.store.gameState.matrix[t.posY][t.posX].animation.timeoutId),this.store.gameState.matrix[t.posY][t.posX].animation.isAnimatedPulse=!1,this.store.gameState.matrix[t.posY][t.posX].animation.isAnimatedPulseBig=!1,a?setTimeout((0,r.aD)(()=>{this.store.gameState.matrix[t.posY][t.posX].animation[s]=!0}),50):this.store.gameState.matrix[t.posY][t.posX].animation[s]=!0;let e=setTimeout((0,r.aD)(()=>{this.store.gameState.matrix[t.posY][t.posX].animation[s]=!1}),200);this.store.gameState.matrix[t.posY][t.posX].animation.timeoutId=e}}assignCellsHintAnimation(e){for(let t of e){this.store.gameState.matrix[t.posY][t.posX].animation.hintAnimation.isAnimated=!0;let e=this.store.gameState.refElements.cells[t.posY][t.posX].getBoundingClientRect(),a=this.store.gameState.refElements.hintButton.getBoundingClientRect();this.store.gameState.matrix[t.posY][t.posX].animation.hintAnimation.width=e.width,this.store.gameState.matrix[t.posY][t.posX].animation.hintAnimation.top=e.top,this.store.gameState.matrix[t.posY][t.posX].animation.hintAnimation.left=e.left,this.store.gameState.matrix[t.posY][t.posX].animation.hintAnimation.opacity=1,setTimeout((0,r.aD)(()=>{this.store.gameState.matrix[t.posY][t.posX].animation.hintAnimation.top=a.top,this.store.gameState.matrix[t.posY][t.posX].animation.hintAnimation.left=a.left,this.store.gameState.matrix[t.posY][t.posX].animation.hintAnimation.opacity=0,setTimeout((0,r.aD)(()=>{this.store.gameState.matrix[t.posY][t.posX].animation.hintAnimation.isAnimated=!1}),650)}),50+75*Math.random())}}handleCellPointerUp(e,t,a){if(e.stopPropagation(),this.store.gameState.isGameDone)return;this.store.gameState.isPathDrag=!1;let s=this.store.gameState.pathDragLetterNum;if(this.store.gameState.pathDragLetterNum=0,!(this.store.gameState.lettersPath.length<=1)){if(this.store.gameState.lettersPath.length<this.store.gameState.minPathLength&&s>1){this.resetMatrixCells(this.store.gameState.lettersPath),this.setGameMessage("Too short","deny");return}s<=1||this.tryLetterPathWord()}}setGameMessage(e,t){if("deny"===t){this.store.gameState.gameMessage.message=this.store.gameState.lettersPath.map(e=>this.store.gameState.matrix[e.posY][e.posX].letter).join("").toUpperCase(),this.store.gameState.lettersPath=[],this.store.gameState.gameMessage.isAnimated=!0,this.store.gameState.gameMessage.type=null;let t=setTimeout((0,r.aD)(()=>{this.store.gameState.gameMessage.message=e,this.store.gameState.gameMessage.isAnimated=!1}),500);this.store.gameState.gameMessage.timeoutId=t}else this.store.gameState.gameMessage.isAnimated=!1,this.store.gameState.gameMessage.message=e,this.store.gameState.gameMessage.type=t}resetGameMessage(){this.store.gameState.gameMessage.message="",this.store.gameState.gameMessage.type=null}handleHintClick(e){if(this.store.gameState.isGameDone)return;if(this.store.gameState.hintsScore<this.store.gameState.hintCost){this.showHintHelp("Need a Hint?","Finding non-theme words earn you hints that will help you find the theme words.");return}if(this.store.gameState.hintWordOpened){this.showHintHelp("Oops!","You cant use hints because you havent discovered the word yet.");return}let t=this.store.gameState.words.theme.map(e=>({word:e.map(e=>this.store.gameState.matrix[e.posY][e.posX].letter).join("").toLowerCase(),cells:e}));for(let e of this.store.gameState.wordsFound){let a=t.findIndex(t=>e.word===t.word);-1!==a&&t.splice(a,1)}if(0===t.length){console.log("No theme words");return}let a=m(t);for(let e of a.cells)this.store.gameState.matrix[e.posY][e.posX].special.type="blue_h";this.store.gameState.hintWordOpened=a.word,this.store.gameState.hintsScore-=this.store.gameState.hintCost,this.saveGameState()}showHintHelp(e,t){this.store.ui.modals.hintHelp.isShow=!0,this.store.ui.modals.hintHelp.header=e,this.store.ui.modals.hintHelp.text=t}hideHintHelp(){this.store.ui.modals.hintHelp.isShow=!1,this.store.ui.modals.hintHelp.header="",this.store.ui.modals.hintHelp.text=""}checkGameDone(){let e=!0,t=this.store.gameState.words.theme.map(e=>e.map(e=>this.store.gameState.matrix[e.posY][e.posX].letter).join("").toLowerCase());for(let a of(t.push(this.store.gameState.words.spangram.map(e=>this.store.gameState.matrix[e.posY][e.posX].letter).join("").toLowerCase()),t))if(-1===this.store.gameState.wordsFound.findIndex(e=>e.word===a)){e=!1;break}e&&(this.store.gameState.isGameDone=!0,this.saveGameState(),this.setFullScreenModalsStateOpen("GameDone"))}resetLettersPath(){0!==this.store.gameState.lettersPath.length&&(this.store.gameState.isPathDrag=!1,this.resetMatrixCells(this.store.gameState.lettersPath),this.store.gameState.lettersPath=[])}setRefElement(e,t){"hintButton"===e?this.store.gameState.refElements[e]=t:"cells"===e&&(this.store.gameState.refElements.cells[t.posY][t.posX]=t.cell)}saveGameState(){localStorage.setItem(o,JSON.stringify({puzzleId:(0,r.ZN)(this.store.gameState.puzzleId),matrix:(0,r.ZN)(this.store.gameState.matrix.map(e=>e.map(e=>e.special))),hintsScore:(0,r.ZN)(this.store.gameState.hintsScore),wordsFound:(0,r.ZN)(this.store.gameState.wordsFound),hintWordOpened:(0,r.ZN)(this.store.gameState.hintWordOpened),isGameDone:(0,r.ZN)(this.store.gameState.isGameDone)}))}restoreGameState(){if(localStorage.getItem(o))try{let e=JSON.parse(localStorage.getItem(o));e.puzzleId===this.store.gameState.puzzleId&&(this.store.gameState.puzzleId=e.puzzleId,e.matrix.forEach((e,t)=>{e.forEach((e,a)=>{this.store.gameState.matrix[t][a].special=e})}),this.store.gameState.hintsScore=e.hintsScore,this.store.gameState.wordsFound=e.wordsFound,this.store.gameState.hintWordOpened=e.hintWordOpened,this.store.gameState.isGameDone=e.isGameDone)}catch(e){console.log("Err",e)}}setDarkMode(e){this.store.ui.isDarkModeEnabled=e,localStorage.setItem(l,JSON.stringify({isDarkModeEnabled:e}))}resetStore(){this.store=(0,n.Z)(_),this.dictionary=null}constructor(){this.store=(0,n.Z)(_),this.dictionary=null,(0,r.rC)(this,{store:r.LO,setFullScreenModalsStateOpen:r.aD,setFullScreenModalsStateClose:r.aD,setGameProps:r.aD,setDictionary:r.aD,handleCellEnter:r.aD,handleCellClick:r.aD,handleCellPointerDown:r.aD,handleCellPointerUp:r.aD,resetLettersPath:r.aD,resetStore:r.aD,resetMatrixCells:r.aD,tryLetterPathWord:r.aD,setGameMessage:r.aD,resetGameMessage:r.aD,checkGameDone:r.aD,handleHintClick:r.aD,assignCellsAnimations:r.aD,setRefElement:r.aD,showHintHelp:r.aD,hideHintHelp:r.aD,saveGameState:r.aD,restoreGameState:r.aD,init:r.aD,setDarkMode:r.aD})}}var g=new p,u=a(2055),x=a.n(u),S=a(1304),w=a(8415),f=a.n(w),j=function(e){let t=e.size?e.size:"md",a={sm:{height:35,fontSize:1,padding:15},md:{height:40,fontSize:1,padding:20},lg:{height:50,fontSize:1.25,padding:25},xl:{height:55,fontSize:1.5,padding:25}},i=0;return e.progress&&(i=e.progress),(0,s.jsxs)("button",{onClick:e.onClick,style:{height:"".concat(a[t].height,"px"),fontSize:"".concat(a[t].fontSize,"rem"),padding:"0px ".concat(a[t].padding,"px")},className:"".concat(f().button," ").concat(f().button_outline," ").concat(e.disabled?f().button_disabled:""),children:[(0,s.jsx)("div",{className:f().progress,style:{width:"".concat(i,"%")}}),(0,s.jsxs)("div",{className:f().progress_contents,children:[e.icon&&e.icon,(0,s.jsx)("span",{className:"".concat(f().button_text," ").concat(f().button_text_outline," ").concat(e.disabled?f().button_disabled_text:""),children:e.children})]})]})},b=a(2265),y=a(1286),N=a.n(y),v=function(e){let[t,a]=(0,b.useState)(0);return(0,b.useEffect)(()=>{let t=()=>{e&&a(e.offsetWidth)};return window.addEventListener("resize",t),t(),()=>window.removeEventListener("resize",t)},[e]),t},P=a(4775),k=a.n(P),C=function(e){let t=e.size?e.size:"md",a={sm:{height:35,fontSize:1,padding:15},md:{height:40,fontSize:1,padding:20},lg:{height:50,fontSize:1.25,padding:25},xl:{height:55,fontSize:1.5,padding:25}};return(0,s.jsxs)("button",{onClick:e.onClick,style:{height:"".concat(a[t].height,"px"),fontSize:"".concat(a[t].fontSize,"rem"),padding:"0px ".concat(a[t].padding,"px")},className:"".concat(k().button," ").concat("outline"===e.variant?k().button_outline:""),disabled:e.disabled,children:[e.icon&&e.icon,(0,s.jsx)("span",{className:"".concat(k().button_text," ").concat("outline"===e.variant?k().button_text_outline:""),children:e.children})]})},D=(0,S.Pi)(function(e){let[t,a]=(0,b.useState)(null),i=v(t);if(!g.store.gameState.matrix)return null;let o=e=>{e.stopPropagation(),g.resetLettersPath()},l=e=>{e.stopPropagation()};return(0,s.jsxs)("div",{onPointerUp:e=>o(e),onClick:e=>l(e),className:N().game_matrix_wrap,children:[(0,s.jsx)("div",{className:N().game_matrix,style:{gridTemplateColumns:"repeat(".concat(g.store.gameState.matrix[0].length,", 1fr)")},children:g.store.gameState.matrix.map((e,t)=>(0,s.jsx)(b.Fragment,{children:e.map((e,o)=>{let l=null;return e.isEnabled?l=N().cell_type_gray:e.special.type&&(l=N()["cell_type_".concat(e.special.type)]),(0,s.jsxs)("div",{ref:0===t&&0===o?e=>{a(e)}:null,className:N().cell_wrap,children:[(0,s.jsx)("div",{ref:e=>g.setRefElement("cells",{cell:e,posX:o,posY:t}),onPointerDown:e=>g.handleCellPointerDown(e,o,t),onPointerUp:e=>g.handleCellPointerUp(e,o,t),onPointerEnter:e=>g.handleCellEnter(e,o,t),onClick:e=>g.handleCellClick(e,o,t),className:"".concat(N().cell," ").concat(l||""," ").concat(e.animation.isAnimatedPulse?N().cell_animation_pulse:""," ").concat(e.animation.isAnimatedPulseBig?N().cell_animation_pulse_big:""),children:(0,s.jsx)("span",{className:N().letter,style:{fontSize:.45*i},children:e.letter})}),g.store.gameState.matrix[t][o].animation.hintAnimation.isAnimated&&(0,s.jsx)("div",{className:N().cell_hint_animation_fixed,style:{width:g.store.gameState.matrix[t][o].animation.hintAnimation.width,top:g.store.gameState.matrix[t][o].animation.hintAnimation.top,left:g.store.gameState.matrix[t][o].animation.hintAnimation.left,opacity:g.store.gameState.matrix[t][o].animation.hintAnimation.opacity}})]},o)})},t))}),(0,s.jsx)("div",{className:N().game_matrix_links_wrap,style:{gridTemplateColumns:"repeat(".concat(g.store.gameState.matrix[0].length,", 1fr)")},children:g.store.gameState.matrix.map((e,t)=>(0,s.jsx)(b.Fragment,{children:e.map((e,t)=>(0,s.jsxs)("div",{className:N().links_cell_wrap,children:[e.links.map((e,t)=>(0,s.jsx)("div",{className:"".concat(N().links_cell_link_other," ").concat(N().cell_type_gray," ").concat(["r","l","t","b"].includes(e)?N().link_adjacent:N().link_diagonal," ").concat(N()["link_"+e])},t)),e.special.links.map((t,a)=>(0,s.jsx)("div",{className:"".concat(N().links_cell_link_special," ").concat(N()["cell_type_"+e.special.type]," ").concat(["r","l","t","b"].includes(t)?N().link_adjacent:N().link_diagonal," ").concat(N()["link_"+t])},a))]},t))},t))}),g.store.ui.modals.hintHelp.isShow&&(0,s.jsxs)("div",{className:N().game_matrix_help_wrap,children:[(0,s.jsx)("div",{onClick:()=>g.hideHintHelp(),className:N().help_wrap_close_icon,children:""}),(0,s.jsxs)("div",{className:N().game_matrix_help,children:[(0,s.jsx)("div",{className:N().game_matrix_help_header,children:g.store.ui.modals.hintHelp.header}),(0,s.jsx)("div",{className:N().game_matrix_help_text,children:g.store.ui.modals.hintHelp.text}),(0,s.jsx)("div",{className:N().game_matrix_help_button,children:(0,s.jsx)(C,{onClick:()=>g.hideHintHelp(),children:"Ok"})})]})]})]})}),M=a(9332),A=a.n(M),z=(0,S.Pi)(function(e){return(0,s.jsx)("div",{className:A().letters_path_wrap,children:g.store.gameState.gameMessage.message?(0,s.jsx)("div",{className:"".concat(A().letters_path_message," ").concat(g.store.gameState.gameMessage.type?A()["color_"+g.store.gameState.gameMessage.type]:"","  ").concat(g.store.gameState.gameMessage.isAnimated?A().deny_shake:""),children:g.store.gameState.gameMessage.message}):(0,s.jsx)("div",{className:"".concat(A().letters_path_letters),children:g.store.gameState.lettersPath.map((e,t)=>(0,s.jsx)(b.Fragment,{children:g.store.gameState.matrix[e.posY][e.posX].letter},t))})})}),X=a(1835),F=a.n(X),G=a(2875),Y=a.n(G);a(5768),a(8694);var E=a(9359),L=function(e){let[t,a]=(0,b.useState)(!1);return(0,b.useEffect)(()=>{let t=()=>{window.innerWidth<=e?a(!0):a(!1)};return window.addEventListener("resize",t),t(),()=>window.removeEventListener("resize",t)},[]),t},H=(0,S.Pi)(function(e){let t=L(960),a=(0,b.useRef)();return(0,s.jsxs)("div",{className:Y().modal_contents_wrap,children:[(0,s.jsx)("div",{className:Y().slider_wrap,children:(0,s.jsxs)(E.Z,{dots:!0,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!1,ref:a,children:[(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:Y().slider_contents_wrap,children:[(0,s.jsx)("div",{className:Y().modal_contents_header,children:"How to play"}),(0,s.jsx)("div",{className:Y().modal_contents_img_wrap,children:(0,s.jsx)("img",{src:"/strands-game/images/help/1.gif",alt:""})}),(0,s.jsxs)("div",{className:Y().modal_contents_ul_header_ul,children:[(0,s.jsx)("div",{className:Y().modal_contents_ul_header,children:"Find theme words to fill the board."}),(0,s.jsxs)("ul",{className:Y().modal_contents_ul,children:[(0,s.jsx)("li",{className:Y().modal_contents_li_text,children:"Theme words stay highlighted in blue when found."}),(0,s.jsx)("li",{className:Y().modal_contents_li_text,children:"Drag or tap letters to create words. If tapping, double tap the last letter to submit."}),(0,s.jsx)("li",{className:Y().modal_contents_li_text,children:"Theme words fill the board entirely. No theme words overlap."})]})]})]})}),(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:Y().slider_contents_wrap,children:[(0,s.jsx)("div",{className:Y().modal_contents_header,children:"How to play"}),(0,s.jsx)("div",{className:Y().modal_contents_img_wrap,children:(0,s.jsx)("img",{src:"/strands-game/images/help/2.png",alt:""})}),(0,s.jsxs)("div",{className:Y().modal_contents_ul_header_ul,children:[(0,s.jsx)("div",{className:Y().modal_contents_ul_header,children:"Find the “spangram.”"}),(0,s.jsxs)("ul",{className:Y().modal_contents_ul,children:[(0,s.jsx)("li",{className:Y().modal_contents_li_text,children:"The spangram describes the puzzle’s theme and touches two opposite sides of the board. It may be two words."}),(0,s.jsx)("li",{className:Y().modal_contents_li_text,children:"The spangram highlights in yellow when found."}),(0,s.jsxs)("li",{className:Y().modal_contents_li_text,children:["An example spangram with corresponding theme words: ",(0,s.jsx)("span",{className:Y().text_blue,children:"PEAR"}),", ",(0,s.jsx)("span",{className:Y().text_yellow,children:"FRUIT"}),", ",(0,s.jsx)("span",{className:Y().text_blue,children:"BANANA"}),", ",(0,s.jsx)("span",{className:Y().text_blue,children:"APPLE"}),", etc."]})]})]})]})}),(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:Y().slider_contents_wrap,children:[(0,s.jsx)("div",{className:Y().modal_contents_header,children:"How to play"}),(0,s.jsx)("div",{className:Y().modal_contents_img_wrap,children:(0,s.jsx)("img",{src:"/strands-game/images/help/3.gif",alt:""})}),(0,s.jsxs)("div",{className:Y().modal_contents_ul_header_ul,children:[(0,s.jsx)("div",{className:Y().modal_contents_ul_header,children:"Need a hint?"}),(0,s.jsxs)("ul",{className:Y().modal_contents_ul,children:[(0,s.jsx)("li",{className:Y().modal_contents_li_text,children:"Find non-theme words to get hints."}),(0,s.jsx)("li",{className:Y().modal_contents_li_text,children:"For every 3 non-theme words you find, you earn a hint."})]})]})]})})]})}),(0,s.jsxs)("div",{className:Y().modal_contents_button_group,children:[(0,s.jsx)("div",{className:Y().modal_contents_button_wrap,children:(0,s.jsx)(C,{onClick:()=>a.current.slickPrev(),variant:"outline",size:t?"sm":"md",children:"Prev"})}),(0,s.jsx)("div",{className:Y().modal_contents_button_wrap,children:(0,s.jsx)(C,{onClick:()=>g.setFullScreenModalsStateClose(),children:"Play"})}),(0,s.jsx)("div",{className:Y().modal_contents_button_wrap,children:(0,s.jsx)(C,{onClick:()=>a.current.slickNext(),variant:"outline",size:t?"sm":"md",children:"Next"})})]})]})}),I=a(3152),O=a.n(I),T=function(e){return(0,s.jsxs)("div",{className:O().modal_contents_wrap,children:[(0,s.jsx)("div",{className:O().modal_contents_header,children:"WoW! You did it!"}),(0,s.jsx)("div",{className:O().modal_contents_text,children:"Come back tomorrow for new puzzles. Puzzles are updated every day!"}),(0,s.jsx)("div",{className:O().modal_contents_button_wrap,children:(0,s.jsx)(C,{onClick:()=>g.setFullScreenModalsStateClose(),children:"Ok"})})]})},W=a(1197),B=a.n(W),R=a(7600),U=(0,S.Pi)(function(e){return(0,s.jsxs)("div",{className:B().modal_contents_wrap,children:[(0,s.jsx)("div",{className:B().modal_header,children:"Settings"}),(0,s.jsxs)("div",{className:B().switch_wrap,children:[(0,s.jsx)("div",{children:(0,s.jsx)(R.Z,{checked:g.store.ui.isDarkModeEnabled,onChange:e=>g.setDarkMode(e.target.checked),size:"lg"})}),(0,s.jsx)("div",{className:B().switch_label,children:"Dark Mode"})]}),(0,s.jsxs)("div",{className:B().links_wrap,children:[(0,s.jsx)("span",{className:B().link,children:"Feedback"}),(0,s.jsx)("span",{className:B().link,children:(0,s.jsx)("a",{href:"mailto:smpleappsmail@gmail.com",children:"Email"})})]})]})}),Z=(0,S.Pi)(function(e){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"".concat(F().modal_window_wrap," ").concat(g.store.ui.modals.fullScreen.isShow?F().modal_show:""),style:{visibility:g.store.ui.modals.fullScreen.isVisible?"visible":"hidden"},children:[(0,s.jsx)("div",{onClick:()=>g.setFullScreenModalsStateClose(),className:F().modal_window_close,children:""}),g.store.ui.modals.fullScreen.modalStates.isHelpOpened&&(0,s.jsx)(H,{}),g.store.ui.modals.fullScreen.modalStates.isGameDoneOpened&&(0,s.jsx)(T,{}),g.store.ui.modals.fullScreen.modalStates.isSettingsOpened&&(0,s.jsx)(U,{})]}),(0,s.jsx)("div",{onClick:()=>g.setFullScreenModalsStateClose(),className:"".concat(F().overlay_wrap," ").concat(g.store.ui.modals.fullScreen.isShow?F().overlay_show:""),style:{visibility:g.store.ui.modals.fullScreen.isVisible?"visible":"hidden"}})]})}),V=a(7880),J=a.n(V),K=function(e){return(0,s.jsx)("div",{className:J().spinner_wrap,children:(0,s.jsx)("div",{className:J().spinner})})},q=a(4983),Q=a(5917),$=a.n(Q),ee=function(e){let[t,a]=(0,b.useState)(!1),[i,o]=(0,b.useState)(""),l=e=>{i!==e&&o(e)};b.Children.map(e.children,t=>{"string"==typeof t.props.children&&e.value===t.props.value&&l(t.props.children)});let n=t=>{e.onChange(t)};return(0,s.jsxs)("div",{onClick:()=>a(!t),className:$().selector_wrap,children:[(0,s.jsx)("div",{className:$().selector_text,children:i}),(0,s.jsx)("div",{className:$().selector_icon,children:""}),t&&(0,s.jsx)("div",{className:$().options_wrap,children:b.Children.map(e.children,t=>(0,s.jsxs)("div",{onClick:()=>n(t.props.value),className:$().option_wrap,children:[t,e.value===t.props.value&&(0,s.jsx)("div",{className:$().option_icon,children:""})]}))})]})},et=a(2941),ea=a.n(et),es=function(e){return(0,s.jsx)("div",{className:ea().option_wrap,children:e.children})},ei=function(e){return(0,s.jsx)("div",{className:x().header_selector_wrap,children:(0,s.jsxs)(ee,{onChange:e=>{e!==i&&("daily"===e&&(window.parent.location.href="/"),"unlimited"===e&&(window.parent.location.href="/unlimited"),"versus"===e&&(window.parent.location.href="/versus"))},value:i,children:[(0,s.jsx)(es,{value:"daily",children:"Daily"}),(0,s.jsx)(es,{value:"unlimited",children:"Unlimited"}),(0,s.jsx)(es,{value:"versus",children:"Versus"})]})})},eo=(0,S.Pi)(function(e){let[t,a]=(0,b.useState)(!1);(0,b.useEffect)(()=>{(async()=>{{let e=await fetch("/strands-game/api/get_puzzle_light",{body:JSON.stringify({timestamp:Date.now()}),method:"POST",cache:"no-store",signal:AbortSignal.timeout(15e3)}),t=await e.json(),s=await fetch("/strands-game/api/get_dictionary",{method:"GET",cache:"force-cache"}),i=await s.json();g.setGameProps(t.puzzle),g.setDictionary(i),a(!0)}})()},[]);let i=L(960),o=e=>{g.resetLettersPath()},l=async()=>{window.parent.location.href="/unlimited"};return t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(q.default,{src:"https://www.googletagmanager.com/gtag/js?id=G-N147GXD7DR",onLoad:()=>{function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-N147GXD7DR")}}),(0,s.jsxs)("div",{onClick:o,onPointerUp:o,className:x().container,children:[(0,s.jsx)("div",{className:x().section_2_wrap,children:(0,s.jsxs)("div",{className:x().section_2,children:[(0,s.jsx)(ei,{}),(0,s.jsxs)("div",{className:x().header_name_id_wrap,children:[(0,s.jsx)("div",{className:x().header_name_name,children:"STRANDS"}),(0,s.jsxs)("div",{className:x().header_name_id,children:["#",g.store.gameState.puzzleId]})]}),(0,s.jsxs)("div",{className:x().icons_wrap,children:[(0,s.jsx)("div",{className:x().icon_wrap,children:(0,s.jsx)("div",{onClick:()=>g.setFullScreenModalsStateOpen("Settings"),className:x().icon,children:""})}),(0,s.jsx)("div",{className:x().icon_wrap,children:(0,s.jsx)("div",{onClick:()=>g.setFullScreenModalsStateOpen("Help"),className:x().icon,children:""})})]})]})}),(0,s.jsx)("div",{className:x().section_3_wrap,children:(0,s.jsx)("div",{className:x().section_3,children:(0,s.jsxs)("div",{className:x().game_field,children:[(0,s.jsxs)("div",{className:"".concat(x().theme_display_wrap),children:[(0,s.jsx)("div",{className:x().theme_display_header,children:(0,s.jsxs)("div",{className:x().words_stats_wrap,children:[(0,s.jsx)("span",{className:x().words_stats_text,children:"Found"})," ",(0,s.jsx)("span",{className:x().words_stats_text_bold,children:g.store.gameState.wordsFound.filter(e=>"special"===e.type).length})," ",(0,s.jsx)("span",{className:x().words_stats_text,children:"of"})," ",(0,s.jsx)("span",{className:x().words_stats_text_bold,children:g.store.gameState.words.theme.length+(g.store.gameState.words.spangram?1:0)})," ",(0,s.jsx)("span",{className:x().words_stats_text,children:"words"})]})}),(0,s.jsx)("div",{className:x().theme_display_name,children:g.store.gameState.header})]}),(0,s.jsx)(z,{}),(0,s.jsx)(D,{}),(0,s.jsxs)("div",{className:x().buttons_wrap,children:[(0,s.jsx)("div",{onClick:e=>null,className:x().new_game_wrap,children:(0,s.jsx)(C,{onClick:l,size:i?"md":"lg",children:"New Game"})}),(0,s.jsx)("div",{ref:e=>g.setRefElement("hintButton",e),className:x().hint_progress_wrap,children:(0,s.jsx)(j,{onClick:e=>g.handleHintClick(e),disabled:g.store.gameState.hintsScore/g.store.gameState.hintCost<1,progress:g.store.gameState.hintsScore/g.store.gameState.hintCost>1?100:g.store.gameState.hintsScore/g.store.gameState.hintCost*100,size:i?"md":"lg",children:"Hint"})})]})]})})})]}),(0,s.jsx)(Z,{})]}):(0,s.jsx)(K,{})}),el=(0,S.Pi)(function(){return(0,b.useLayoutEffect)(()=>{g.init()},[]),(0,s.jsxs)(s.Fragment,{children:[g.store.ui.isDarkModeEnabled?(0,s.jsx)("style",{children:"\n                :root {\n    --main-palette-color_1: #FFFFFF;\n    --main-palette-color_1_hl_1: #1f1f1f;\n    --main-palette-color_1_hl_2: #424242;\n    --main-palette-color_2: #000000;\n    --main-palette-color_3: #007e9a;\n    --main-palette-color_3_hl_1: #e0f8ff;\n    --main-palette-color_3_hl_2: #007e9a;\n    --main-palette-color_4: #e3b90e;\n    --main-palette-color_4_hl_1: #e3b90e;\n    --main-palette-color_5: #857c7c;\n    --main-palette-color_5_hl_1: #a19e5a;\n    --main-palette-color_6: #BFDDD9;\n    --main-palette-color_7: #b4b4b4;\n    --main-palette-color_8: #a85400;\n    --main-palette-color_9: #262421;\n    --main-palette-bg-color_1: #161513;\n    --main-palette-bg-color_2: #262421;\n    --main-palette-color_10: #f3f3f3;\n    --main-palette-color_11: #cccccc;\n    --main-palette-color_12: #ffffff;\n    --main-palette-color_13: #000000;\n    --main-palette-color_14: #CCCCCC;\n                }\n            "}):(0,s.jsx)("style",{children:"\n                :root {\n\n    --main-palette-color_1: #000000;\n    --main-palette-color_1_hl_1: #1f1f1f;\n    --main-palette-color_1_hl_2: #424242;\n    --main-palette-color_2: #FFFFFF;\n    --main-palette-color_3: #AFDFED;\n    --main-palette-color_3_hl_1: #e0f8ff;\n    --main-palette-color_3_hl_2: #007e9a;\n    --main-palette-color_4: #F7D61D;\n    --main-palette-color_4_hl_1: #e3b90e;\n    --main-palette-color_5: #DAD8C5;\n    --main-palette-color_5_hl_1: #a19e5a;\n    --main-palette-color_6: #BFDDD9;\n    --main-palette-color_7: #b4b4b4;\n    --main-palette-color_8: #eedbc3;\n    --main-palette-color_9: #f6f7f8;\n    --main-palette-bg-color_1: #ffffff;\n    --main-palette-bg-color_2: #ffffff;\n    --main-palette-color_10: #000000;\n    --main-palette-color_11: #333333;\n    --main-palette-color_12: #ffffff;\n    --main-palette-color_13: #000000;\n    --main-palette-color_14: #CCCCCC;\n                }\n            "}),(0,s.jsx)(eo,{})]})})},8415:function(e){e.exports={button:"button-progress_button__pWMqA",button_outline:"button-progress_button_outline__2Iu32",button_text:"button-progress_button_text__yBHh5",button_text_outline:"button-progress_button_text_outline__lzSCg",button_disabled:"button-progress_button_disabled__OMh8F",button_disabled_text:"button-progress_button_disabled_text__aGf6h",progress:"button-progress_progress__9t1lc",progress_contents:"button-progress_progress_contents__D1nOy"}},4775:function(e){e.exports={button:"button_button__HgW1I",button_outline:"button_button_outline__9ygmG",button_text:"button_button_text__8GSpR",button_text_outline:"button_button_text_outline__uei1z"}},2941:function(e){e.exports={option_wrap:"option_option_wrap__lnm3H"}},5917:function(e){e.exports={selector_wrap:"selector_selector_wrap___tc0U",selector_text:"selector_selector_text__OYRcL",selector_icon:"selector_selector_icon__XgGpB",options_wrap:"selector_options_wrap___dP7A",option_wrap:"selector_option_wrap__SwI9O",option_icon:"selector_option_icon__c3T3N"}},7880:function(e){e.exports={spinner_wrap:"spinner_spinner_wrap__M5TS9",spinner:"spinner_spinner__e5KDW",s2:"spinner_s2__F1hWw"}},1286:function(e){e.exports={game_matrix_wrap:"game-matrix_game_matrix_wrap__6MrPy",game_matrix:"game-matrix_game_matrix__WVMf_",cell_wrap:"game-matrix_cell_wrap__5SPJo",cell:"game-matrix_cell__F6FLY",letter:"game-matrix_letter__fPQ8Z",game_matrix_links_wrap:"game-matrix_game_matrix_links_wrap__VD9qE",links_cell_wrap:"game-matrix_links_cell_wrap__tK_D5",links_cell_link_special:"game-matrix_links_cell_link_special__ywXu5",links_cell_link_other:"game-matrix_links_cell_link_other__xF4qe",link_diagonal:"game-matrix_link_diagonal__23_c6",link_adjacent:"game-matrix_link_adjacent__e_QU8",link_rb:"game-matrix_link_rb__AescU",link_rt:"game-matrix_link_rt__2HKHA",link_lt:"game-matrix_link_lt__4vefh",link_lb:"game-matrix_link_lb__nWIlu",link_r:"game-matrix_link_r__A79IE",link_l:"game-matrix_link_l__nqMYA",link_t:"game-matrix_link_t__4eWQa",link_b:"game-matrix_link_b__iS52j",cell_type_null:"game-matrix_cell_type_null__sIqPp",cell_type_gray:"game-matrix_cell_type_gray__1Lo_e",cell_type_gray_h:"game-matrix_cell_type_gray_h__sNn4A",cell_type_blue:"game-matrix_cell_type_blue__u8rkl",cell_type_blue_h:"game-matrix_cell_type_blue_h__IEP85",cell_type_yellow:"game-matrix_cell_type_yellow__TJJMv",cell_animation_pulse:"game-matrix_cell_animation_pulse__uMxCR",pulse:"game-matrix_pulse__77uQz",cell_animation_pulse_big:"game-matrix_cell_animation_pulse_big__ZVDcS",pulse_big:"game-matrix_pulse_big__PgBxe",cell_hint_animation_fixed:"game-matrix_cell_hint_animation_fixed__Rbg_9",game_matrix_help_wrap:"game-matrix_game_matrix_help_wrap__CfgOx",game_matrix_help:"game-matrix_game_matrix_help__kVGZ_",game_matrix_help_header:"game-matrix_game_matrix_help_header__m0EJA",game_matrix_help_text:"game-matrix_game_matrix_help_text__mHpFO",game_matrix_help_button:"game-matrix_game_matrix_help_button__whNF7",help_wrap_close_icon:"game-matrix_help_wrap_close_icon__tA_Lc"}},2055:function(e){e.exports={container:"home-page_container__0mKym",section_1_wrap:"home-page_section_1_wrap__xU_7z",section_1:"home-page_section_1__KKCOW",section_2_wrap:"home-page_section_2_wrap__rMdQq",section_2:"home-page_section_2__rzN2e",header_selector_wrap:"home-page_header_selector_wrap__zPOZy",header_date_wrap:"home-page_header_date_wrap__ojzGV",header_name_id_wrap:"home-page_header_name_id_wrap__3QQdn",header_name_name:"home-page_header_name_name__xldRB",header_name_id:"home-page_header_name_id____Buy",icons_wrap:"home-page_icons_wrap__vt4lH",icon_wrap:"home-page_icon_wrap__hO1uo",icon:"home-page_icon__hUhD8",section_3_wrap:"home-page_section_3_wrap__ocsIG",section_3:"home-page_section_3__noZZb",game_field_left:"home-page_game_field_left__yvDXm",theme_display_wrap:"home-page_theme_display_wrap__p3btN",theme_display_header:"home-page_theme_display_header__7zICe",theme_display_name:"home-page_theme_display_name__99jmU",buttons_wrap:"home-page_buttons_wrap__cdycL",words_stats_wrap:"home-page_words_stats_wrap__NLK0u",words_stats_text:"home-page_words_stats_text__XtLA1",words_stats_text_bold:"home-page_words_stats_text_bold__K9IwV",hint_progress_wrap:"home-page_hint_progress_wrap__iJ_Wi",new_game_wrap:"home-page_new_game_wrap___ElqV",game_field:"home-page_game_field__w6L74",theme_display_wrap_1:"home-page_theme_display_wrap_1__3mZ2z",theme_display_wrap_2:"home-page_theme_display_wrap_2__cVigu",header_name:"home-page_header_name__5myUx",header_date:"home-page_header_date__xW2Zw",game_field_right:"home-page_game_field_right__Amm1d"}},9332:function(e){e.exports={letters_path_wrap:"letters-path_letters_path_wrap__X50Y5",letters_path_message:"letters-path_letters_path_message__UTSej",color_other:"letters-path_color_other__fPM_j",color_spangram:"letters-path_color_spangram__jHBqL",color_theme:"letters-path_color_theme__MJ1OO",letters_path_letters:"letters-path_letters_path_letters__CyK2o",deny_shake:"letters-path_deny_shake__Omn2q",shake:"letters-path_shake__qlbvI"}},3152:function(e){e.exports={modal_contents_wrap:"game-done-modal_modal_contents_wrap__GXH_t",modal_contents_header:"game-done-modal_modal_contents_header__hM4Cb",modal_contents_text:"game-done-modal_modal_contents_text__LHvKE",modal_contents_button_wrap:"game-done-modal_modal_contents_button_wrap__97b1v"}},2875:function(e){e.exports={modal_contents_wrap:"help-modal_modal_contents_wrap__Iplya",slider_contents_wrap:"help-modal_slider_contents_wrap__yjMSN",slider_wrap:"help-modal_slider_wrap__3EL2V",modal_contents_header:"help-modal_modal_contents_header__5DIpt",modal_contents_img_wrap:"help-modal_modal_contents_img_wrap__8f3PT",modal_contents_ul_header_ul:"help-modal_modal_contents_ul_header_ul__NySl_",modal_contents_ul_header:"help-modal_modal_contents_ul_header__viKFG",modal_contents_ul:"help-modal_modal_contents_ul__tfayA",modal_contents_li_text:"help-modal_modal_contents_li_text__CRZRp",text_yellow:"help-modal_text_yellow__o6IDd",text_blue:"help-modal_text_blue__7m8p5",modal_contents_button_group:"help-modal_modal_contents_button_group__9rktu",modal_contents_button_wrap:"help-modal_modal_contents_button_wrap__0vdpX"}},1835:function(e){e.exports={modal_window_wrap:"modal-window_modal_window_wrap__yT061",modal_show:"modal-window_modal_show__gXOSD",modal_window_close:"modal-window_modal_window_close__iAkF8",overlay_wrap:"modal-window_overlay_wrap__jGh88",overlay_show:"modal-window_overlay_show__RC_Yn"}},1197:function(e){e.exports={modal_contents_wrap:"settings-modal_modal_contents_wrap__uejA_",modal_header:"settings-modal_modal_header__4QnB4",switch_wrap:"settings-modal_switch_wrap__DzPr_",switch_label:"settings-modal_switch_label__Nd7nc",links_wrap:"settings-modal_links_wrap__TBaQm",link:"settings-modal_link__EBFNf"}}}]);